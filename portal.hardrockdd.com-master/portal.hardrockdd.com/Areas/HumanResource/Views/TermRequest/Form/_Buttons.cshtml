@model portal.Areas.HumanResource.Models.TermRequest.ActionViewModel

@{
    var viewOnly = bool.TryParse(ViewBag.ViewOnly?.ToString(), out bool viewOnlyOut) ? viewOnlyOut : false;
    var formLayout = new TableLayoutModel(this);
    var formId = "form_" + Guid.NewGuid();
    var btnId = "button_" + Model.RequestId.ToString();
}

<div class="row"
     data-hrco="@Model.HRCo"
     data-requestid="@Model.RequestId">
    <div class="col-lg-12 m-b-5">
        @Html.AntiForgeryToken()
        <div class="text-left">
            @foreach (var action in Model.WorkFlowActions)
            {
                <button 
                        type="button" 
                        class="btn @action.ButtonClass @btnId" 
                        data-gotostatusid="@((int)action.GotoStatusId)" 
                        data-redirectaction="@action.ActionRedirect" 
                        data-key="@formLayout.TableKey">@action.Title
                </button>
            }
        </div>
    </div>
</div>


<script>
    $('#@formId').ready(function () {
        $('#@(formId)').on('click', 'button.@btnId', function () {
            var data = $(this).data('key');
            var gotoStatusId = $(this).data('gotostatusid');
            var redirectAction = $(this).data('redirectaction');

            data += "&statusId=" + gotoStatusId;
            var url = "@Url.Action("UpdateStatus", "TermRequest")";
            url += "?" + data;

            console.log('Goto: ', url);
            //location.href = url;
        });
    });
</script>