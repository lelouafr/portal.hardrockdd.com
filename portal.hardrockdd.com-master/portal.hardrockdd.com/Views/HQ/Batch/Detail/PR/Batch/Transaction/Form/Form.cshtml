@model portal.Models.Views.HQ.Batch.PR.PRBatchTransViewModel

@{
    var viewOnly = bool.TryParse(ViewBag.ViewOnly?.ToString(), out bool viewOnlyOut) ? viewOnlyOut : false;

    var tableLayout = new TableLayoutModel(this);
    var formId = string.Format("form_{0}", Guid.NewGuid());
    var id = formId.ToString().Replace("-", "");
    var formKey = tableLayout.TableKey;
}


<form class="form-horizontal validationContaner"
      data-urlupdate="@Url.Action("PRBatchTransactionUpdate", "Batch")"
      data-urlvalidate="@Url.Action("PRBatchTransactionValidate", "Batch")"
      data-relatedpanel=""
      id="@formId">
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Co, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.Mth, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.BatchId, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.BatchSeq, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.EmployeeId, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.PaySeq, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.PostSeq, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.PRCo, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.GLCo, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.EMGroupId, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.JCCo, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.PhaseGroupId, new { @id = Guid.NewGuid() })
    @Html.HiddenFor(m => m.EMCo, new { @id = Guid.NewGuid() })

    <fieldset class="form-group border p-3">
        <legend class="w-auto px-2">Info</legend>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.EmployeeId)
            @Html.EditorFor(m => m.PostDate)
        </div>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.EarnCodeId)
            @Html.EditorFor(m => m.PRDept)
        </div>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.Type)
            @Html.EditorFor(m => m.CrewId)
        </div>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.BatchTransType)
        </div>
    </fieldset>
    <fieldset class="form-group border p-3">
        <legend class="w-auto px-2">Amount</legend>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.Hours)
            @Html.EditorFor(m => m.Rate)
        </div>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.Amt)
        </div>
    </fieldset>
    <fieldset class="form-group border p-3">
        <legend class="w-auto px-2">Coding</legend>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.JobId)
            @Html.EditorFor(m => m.PhaseId)
        </div>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.EquipmentId)
            @Html.EditorFor(m => m.CostCode)
        </div>
    </fieldset>
    <fieldset class="form-group border p-3">
        <legend class="w-auto px-2">Insurance/Other</legend>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.InsState)
            @Html.EditorFor(m => m.InsCode)
        </div>
        <div class="form-group has-feedback row">
            @Html.EditorFor(m => m.TaxState)
            @Html.EditorFor(m => m.UnempState)
        </div>
    </fieldset>
</form>

<script>
    $('#@formId').ready(function () { Form().init($('#@formId')); });
</script>
