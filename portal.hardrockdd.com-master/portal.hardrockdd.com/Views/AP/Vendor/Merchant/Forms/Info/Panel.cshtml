@model portal.Models.Views.AP.Vendor.Merchant.Forms.MerchantInfoViewModel
@{
    var id = Guid.NewGuid().ToString().Replace("-", "");
    var panelId = string.Format("panel_{0}", Guid.NewGuid());
}
    <div class="panel panel-inverse"
         data-sortable-id="JobViewModel"
         data-reloadurl="@Url.Action("Form", "MerchantInfo", new { vendGroupId = Model.VendorId, merchantId = Model.MerchantId })"
         data-initpane="initPane@(id)">
        <div class="panel-heading">
            <div class="panel-heading-btn">
                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-redo"></i></a>
            </div>
            <h4 class="panel-title">Info (@Model.MerchantId)</h4>
        </div>
        <div class="panel-body" id="@panelId">
            @Html.Partial("../AP/Vendor/Merchant/Forms/Info/Form", Model)
        </div>
    </div>
<script>
    $(document).ready(function () {
        initPane@(id)();
    });

    function initPane@(id)() {
        setTimeout(function () {
            $('#@panelId').find('form').each(function () {
                
            });
        }, 0);

    }

    function handleAssignmentView(form) {
        var elem = $(form).find("[name='AssignmentType']");
        var val = parseInt($(elem).val());
        //console.log(elem, val);

        //$(form).find('.assignmentGrp').hide();
        //ParentEquimentId
        //AssignedCrewId
        //Operator
        //console.log('AssignmentType:', val);
        $(form).find("[name='ParentEquimentId']").prop("disabled", true);
        $(form).find("[name='AssignedCrewId']").prop("disabled", true);
        $(form).find("[name='Operator']").prop("disabled", true);
        switch (val) {
            case 1:
                //$(form).find('.assignmentGrp').show();
                $(form).find("[name='ParentEquimentId']").prop("disabled", false);
                break;
            case 2:
                //$(form).find('.assignmentGrp').show();
                $(form).find("[name='AssignedCrewId']").prop("disabled", false);
                break;
            case 3:
                //$(form).find('.assignmentGrp').show();
                $(form).find("[name='Operator']").prop("disabled", false);
                break;
            default:
        }
    }


</script>